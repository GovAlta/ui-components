import { useState } from 'react';
import {
  Meta,
  Preview,
  Story,
  ArgsTable,
  Description,
} from '@storybook/addon-docs/blocks';
import { moduleMetadata } from '@storybook/react';

import { action } from '@storybook/addon-actions';
import { DoDont } from '@abgov/shared/storybook-common';

import { GoARadio } from './radio';

<Meta title="React/Basic Elements/Radio" component={GoARadio} />

# Radios

A wrapper/group for a set of user input fields that allow the user to make a choice from a set of mutually exclusive, related options. Only one item in the list may be selected.

## Overview

export const TemplateBasic = (args) => {
  const [value, setValue] = useState(args.checked ? args.value : "");
  const [checked, setChecked] = useState(args.checked);
  
  return (
    <div style={{ padding: '5px' }}>
      Current Value: {value}
      <GoARadio
        value={args.value}
        name={args.name}
        onChange={setValue}
        disabled={args.disabled}
        checked={value === args.value }
        state={args.state}
      >
        {args.value}
      </GoARadio>
      <GoARadio
        value="orange"
        name={args.name}
        onChange={setValue}
        disabled={args.disabled}
        checked={value === "orange"}
        state={args.state}
      >
        orange
      </GoARadio>
      <GoARadio
        value="banana"
        name={args.name}
        onChange={setValue}
        disabled={args.disabled}
        checked={value === "banana"}
        state={args.state}
      >
        banana
      </GoARadio>
    </div>
  );
};

#### Basic

<Canvas>
  <Story
    name="Basic"
    height={200}
    args={{
      value: 'apple',
      name: 'fruits',
      disabled: false,
      checked: false,
      onChange: (value) => {
        action('selection changed')(value);
      },
    }}
  >
    {TemplateBasic.bind({})}
  </Story>
</Canvas>

#### Preset value

<Canvas>
  <Story
    name="Preset"
    height={200}
    args={{
      value: 'apple',
      name: 'fruits',
      disabled: false,
      checked: true,
      onChange: (value) => {
        action('selection changed')(value);
      },
    }}
  >
    {TemplateBasic.bind({})}
  </Story>
</Canvas>

#### Error

<Canvas>
  <Story
    name="Error"
    height={200}
    args={{
      name: 'error',
      value: 'apple',
      state: 'error',
      onChange: (value) => {
        action('selection changed')(value);
      },
    }}
  >
    {TemplateBasic.bind({})}
  </Story>
</Canvas>

#### Disabled

<Canvas>
  <Story
    name="Disabled"
    height={200}
    args={{
      name: 'disabled',
      disabled: true,
      value: 'apple',
      checked: true,
      onChange: (value) => {
        action('selection changed')(value);
      },
    }}
  >
    {TemplateBasic.bind({})}
  </Story>
</Canvas>

## Properties

#### GoARadio

<Description of={GoARadio} />
<ArgsTable of={GoARadio} />

# Usage guidelines

### Select multiple options

Use radio buttons or a drop down list when the user can only select one option. Use checkboxes when the user can select any number of options.

<DoDont
  dos={'Use radios when the user is allowed to select only one option.'}
  donts={'Use radios when the user is allowed to select more than one option'}
/>
