import { useState } from 'react';
import {
  Meta,
  Preview,
  Story,
  ArgsTable,
  Description,
} from '@storybook/addon-docs/blocks';
import { moduleMetadata } from '@storybook/react';

import { action } from '@storybook/addon-actions';
import { DoDont } from '@abgov/shared/storybook-common';

import { GoARadioGroup, GoARadio } from './radio-group';

<Meta title="React/Basic Elements/RadioGroups" component={GoARadioGroup} />

# Radios

A wrapper/group for a set of user input fields that allow the user to make a choice from a set of mutually exclusive, related options. Only one item in the list may be selected.

## Overview

export const TemplateBasic = (args) => {
  const [value, setValue] = useState(args.value);
  return (
    <div style={{padding: "5px"}}>
      Current Value: {value}
      <GoARadioGroup {...args} value={value} onChange={setValue}>
        <GoARadio value="apple">apple</GoARadio>
        <GoARadio value="orange">orange</GoARadio>
        <GoARadio value="banana">banana</GoARadio>
      </GoARadioGroup>
    </div>
  );
};

#### Basic

<Canvas>
  <Story
    name="Basic"
    height={200}
    args={{
      name: 'fruits',
      disabled: false,
      orientation: 'horizontal',
      onChange: (value) => {
        action('selection changed')(value);
      },
    }}
  >
    {TemplateBasic.bind({})}
  </Story>
</Canvas>

#### Preset value

<Canvas>
  <Story
    name="Preset"
    height={200}
    args={{
      name: 'preset',
      value: 'orange',
      disabled: false,
      orientation: 'vertical',
      onChange: (value) => {
        action('selection changed')(value);
      },
    }}
  >
    {TemplateBasic.bind({})}
  </Story>
</Canvas>

#### Error

<Canvas>
  <Story
    name="Error"
    height={200}
    args={{
      name: 'error',
      value: 'orange',
      state: 'error',
      onChange: (value) => {
        action('selection changed')(value);
      },
    }}
  >
    {TemplateBasic.bind({})}
  </Story>
</Canvas>

#### Disabled

<Canvas>
  <Story
    name="Disabled"
    height={200}
    args={{
      name: 'disabled',
      disabled: true,
      value: 'orange',
      orientation: 'vertical',
      onChange: (value) => {
        action('selection changed')(value);
      },
    }}
  >
    {TemplateBasic.bind({})}
  </Story>
</Canvas>

## Properties

#### GoARadioGroup

<Description of={GoARadioGroup} />
<ArgsTable of={GoARadioGroup} />

# Usage guidelines

### Select multiple options

Use radio buttons or a drop down list when the user can only select one option. Use checkboxes when the user can select any number of options.

<DoDont
  dos={'Use radios when the user is allowed to select only one option.'}
  donts={'Use radios when the user is allowed to select more than one option'}
/>
