import { GoAButtonGroup, GoAButton, GoAModal, GoAFormItem } from '../..';
import { action } from '@storybook/addon-actions';
import { DoDont } from '@abgov/shared/storybook-common';
import { useState } from 'react';

import {
  Meta,
  Preview,
  Story,
  ArgsTable,
  Description,
} from '@storybook/addon-docs';

<Meta
  title="Experimental/Web Components/Modal"
  component={GoAModal}
  argTypes={{
    open: {
      control: {
        type: 'function',
      },
    },
    onClose: {
      control: {
        type: 'function',
      },
    },
  }}
/>

# GoAModal

A dialog that appears on top of the main content and moves the system into a special mode requiring user interaction. This dialog disables the main content until the user explicitly interacts with the modal dialog.

## Overview

export const HardCloseTemplate = (args) => {
  const [isOpen, setOpen] = useState(false);
  return (
    <>
      <button onClick={() => setOpen(true)}>Open Modal</button>
      <div style={{ minHeight: '150vw' }}></div>
      <GoAModal open={isOpen} testId="modal" closable={true} title="This is the title" onClose={() => setOpen(false)}>
        <div>This is some content</div>
        <div slot="actions">
        <GoAButtonGroup alignment="end">
          <GoAButton type="primary" onClick={() => setOpen(false)}>
            Save
          </GoAButton>
          <GoAButton type="primary" onClick={() => setOpen(false)}>
            Close
          </GoAButton>
        </GoAButtonGroup>
        </div>
      </GoAModal>
    </>
  );
};

#### Basic

<Canvas>
  <Story
    name="No Close Icon"
    height="400px"
    args={{
      title: 'Show a little bit of text',
      content:
        'You can only close this modal if an action button toggles the state',
    }}
  >
    {HardCloseTemplate.bind({})}
  </Story>
</Canvas>
