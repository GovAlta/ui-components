import { Meta, Story } from "@storybook/addon-docs";
import {
  Tabs,
  Tab,
  CodeSnippet,
  SupportInfo,
  Props,
  Prop,
} from "@abgov/shared/storybook-common";

import {
  GoAIcon,
  GoAButtonGroup,
  GoAFormItem,
  GoANotification,
  GoACallout,
} from "@abgov/react-components";
import { useState } from "react";

<Meta title="Components/Notification Banner" />

# Notification Banner

### Notification banners are boxes with text content that indicate one of the following: information messages, event messages, important messages, or emergency messages.

[Figma design component](https://www.figma.com/file/3pb2IK8s2QUqWieH79KdN7/%E2%9D%96-Components-%7C-DDI?node-id=633%3A11158)

---

### Properties

<Props showTabs={true}>
  <Prop
    name="type"
    type="information | important | emergency | event"
    required="Yes"
    description="Define the context and colour of the notification banner"
  />
  <Prop
    name="_dismiss"
    lang="angular"
    type="CustomEvent"
    description="Dispatched when notification banner is closed."
  />
  <Prop
    name="onDismiss"
    lang="react"
    type="() => void"
    description="Dispatched when notification banner is closed."
  />
  <Prop
    name="maxContentWidth"
    type="string"
    lang="react"
    defaultValue="100%"
    description="Maximum width of the content area"
  />
  <Prop
    name="maxcontentwidth"
    type="string"
    lang="angular"
    defaultValue="100%"
    description="Maximum width of the content area"
  />
  <Prop
    name="arialive"
    type="polite | assertive | off"
    lang="angular"
    defaultValue="polite"
    description="Indicates how assistive technology should handle updates to the live region"
  />
  <Prop
    name="ariaLive"
    type="polite | assertive | off"
    lang="react"
    defaultValue="polite"
    description="Indicates how assistive technology should handle updates to the live region"
  />
</Props>

<GoACallout type="information">
  Notification Banner component use "alert" role that implicitly defines
  "aria-live" as "polite" as default, and "aria-atomic" as "true". Normally,
  only arialive="polite" is used. Any region which receives updates that are
  important for the user to receive, but not so rapid as to be annoying, should
  receive this attribute. The screen reader will speak changes whenever the user
  is idle.
  <br />
  arialive="assertive" should only be used for time-sensitive/critical
  notifications that absolutely require the userâ€™s immediate attention.
</GoACallout>

### Types

<Story name="Types">
  <h4>Information</h4>
  <GoANotification
    type="information"
    onDismiss={() => console.log("dismissed")}
  >
    Lorem ipsum dolor{" "}
    <a href="https://example.com">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor
      sit amet, consectetur adipiscing elit.
    </a>{" "}
    Lorem ipsum dolor
  </GoANotification>
  <h4>Important</h4>
  <GoANotification type="important" onDismiss={() => console.log("dismissed")}>
    <a href="https://example.com">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor
      sit amet, consectetur adipiscing elit.
    </a>
  </GoANotification>
  <h4>Emergency</h4>
  <GoANotification type="emergency" onDismiss={() => console.log("dismissed")}>
    <a href="https://example.com">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor
      sit amet, consectetur adipiscing elit.
    </a>
  </GoANotification>
  <h4>Event</h4>
  <GoANotification type="event" onDismiss={() => console.log("dismissed")}>
    Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor
    sit amet, consectetur adipiscing elit.
  </GoANotification>
</Story>

<Tabs>
  <Tab label="Web Component" hidden={true}>
    <CodeSnippet
      code={`
        <goa-notification type="information">Lorem ipsum dolor <a href="https://example.com">Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a> Lorem ipsum dolor</goa-notification>
        <goa-notification type="important"><a href="https://example.com">Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a></goa-notification>
        <goa-notification type="emergency"><a href="https://example.com">Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a></goa-notification>
        <goa-notification type="event">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</goa-notification>
      `}
      lang="html"
    />
    <CodeSnippet
      code={`
        document.querySelector('goa-notification').addEventListener('_dismiss', () => {
          console.log('dismissed');
        });
      `}
      lang="js"
    />
  </Tab>
  <Tab label="Angular">
    <CodeSnippet
      code={`
        <goa-notification type="information" (_dismiss)="onDismiss()">Lorem ipsum dolor <a href="https://example.com">Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a> Lorem ipsum dolor</goa-notification>
        <goa-notification type="important" (_dismiss)="onDismiss()"><a href="https://example.com">Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a></goa-notification>
        <goa-notification type="emergency" (_dismiss)="onDismiss()"><a href="https://example.com">Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a></goa-notification>
        <goa-notification type="event" (_dismiss)="onDismiss()">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</goa-notification>
      `}
      lang="html"
    />
    <CodeSnippet
      code={`
        export class SomeOtherComponent {
          onDismiss() {
            console.log('dismissed');
          }
        }
      `}
      lang="ts"
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      code={`
        <GoANotification type="information" onDismiss={() => console.log("dismissed")}>Lorem ipsum dolor <a href="https://example.com">Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a> Lorem ipsum dolor</GoANotification>
        <GoANotification type="important" onDismiss={() => console.log("dismissed")}><a href="https://example.com">Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a></GoANotification>
        <GoANotification type="emergency" onDismiss={() => console.log("dismissed")}><a href="https://example.com">Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a></GoANotification>
        <GoANotification type="event" onDismiss={() => console.log("dismissed")}>Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</GoANotification>
    `}
      lang="tsx"
    />
  </Tab>
</Tabs>

#### Max Content Width

You can change the maximum width of the notification banner by setting the `maxContentWidth` property.

<Story name="Max Content Width">
  <GoANotification
    type="event"
    onDismiss={() => console.log("dismissed")}
    maxContentWidth="600px"
  >
    Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor
    sit amet, consectetur adipiscing elit.
  </GoANotification>
</Story>

<Tabs>
  <Tab label="Angular">
    <CodeSnippet
      code={`
        <goa-notification type="event" (_dismiss)="onDismiss()" maxcontentwidth="600px">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</goa-notification>
      `}
      lang="html"
    />
    <CodeSnippet
      code={`
        export class SomeOtherComponent {
          onDismiss() {
            console.log('dismissed');
          }
        }
      `}
      lang="ts"
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      code={`
       <GoANotification type="event" onDismiss={() => console.log("dismissed")} maxContentWidth="600px">Lorem ipsum dolor sit amet, consectetur adipiscing elit Lorem ipsum dolor sit amet, consectetur adipiscing elit.</GoANotification>
    `}
      lang="tsx"
    />
  </Tab>
</Tabs>
