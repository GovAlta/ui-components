import { Meta, Story } from "@storybook/addon-docs";
import {
  Props,
  Prop,
  Tabs,
  Tab,
  CodeSnippet,
  SupportInfo,
  Markdown,
} from "@abgov/shared/storybook-common";
import {
  GoAPopover,
  GoABlock,
  GoABadge,
  GoAButton,
  GoACallout,
} from "@abgov/react-components";

<Meta title="Components/Popover" />

# Popover

### The popover component displays additional information for an object in a compact way and without leaving the page.

[Figma design component](https://www.figma.com/file/3pb2IK8s2QUqWieH79KdN7/%E2%9D%96-Components-%7C-D3?node-id=9558%3A381654)

---

#### Properties

<Props showTabs={true}>
  <Prop
    name="maxWidth"
    type="string"
    description="The maxwidth of the popover container"
    defaultValue="320px"
  />
  <Prop
    name="padded"
    type="boolean"
    description="Whether or not the popover should have padding"
    defaultValue="true"
  />
  <Prop
    name="position"
    type="above | below | auto"
    defaultValue="auto"
    description="Provides control to where the popover content is positioned"
  />
  <Prop
    name="target"
    type="slot"
    lang="angular"
    defaultValue=""
    required="true"
    description="The target UI component to open the popover"
  />
  <Prop
    name="target"
    type="ReactNode"
    lang="react"
    defaultValue=""
    required="true"
    description="The target UI component to open the popover"
  />
</Props>

<details>
  <summary>Additional Properties</summary>
  <GoACallout>
    These margins would be applied to the target element and the popover will
    align itself accordingly
  </GoACallout>
  <Props showTabs={true}>
    <Prop
      name="mt"
      type="none | 3xs | 2xs | xs | s | m | l | xl | 2xl | 3xl | 4xl"
      defaultValue="none"
      description="Top margin"
    />
    <Prop
      name="mr"
      type="none | 3xs | 2xs | xs | s | m | l | xl | 2xl | 3xl | 4xl"
      defaultValue="none"
      description="Right margin"
    />
    <Prop
      name="mb"
      type="none | 3xs | 2xs | xs | s | m | l | xl | 2xl | 3xl | 4xl"
      defaultValue="none"
      description="Bottom margin"
    />
    <Prop
      name="ml"
      type="none | 3xs | 2xs | xs | s | m | l | xl | 2xl | 3xl | 4xl"
      defaultValue="none"
      description="Left margin"
    />
  </Props>
</details>

#### Basic

<Story name="Basic">
  <GoAPopover
    target={
      <GoAButton type="secondary" size="compact">
        Click me
      </GoAButton>
    }
  >
    <p>This is a popover</p>
    It can be used for a number of different contexts.
  </GoAPopover>
</Story>

<Tabs>
  <Tab label="Angular">
    <CodeSnippet
      lang="html"
      code={`
      <goa-popover>
        <p>This is a popover</p>
        It can be used for a number of different contexts.
        <div slot="target">
          <goa-button type="secondary" size="compact">Click me</goa-button>
        </div>
      </goa-popover>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
      <GoAPopover target={
        <GoAButton type="secondary" size="compact">
          Click me
        </GoAButton>
      }>
        <p>This is a popover</p>
        It can be used for a number of different contexts.
      </GoAPopover>
    `}
    />
  </Tab>
</Tabs>

#### Max width

<Story name="Max width">
  <GoAPopover
    target={
      <GoAButton type="secondary" size="compact">
        Click me
      </GoAButton>
    }
    maxWidth="500px"
  >
    <p>This is a popover</p>
    It can be used for a number of different contexts.
  </GoAPopover>
</Story>

<Tabs>
  <Tab label="Angular">
    <CodeSnippet
      lang="html"
      code={`
      <goa-popover maxwidth="500px">
        <p>This is a popover</p>
        It can be used for a number of different contexts.
        <div slot="target">
          <goa-button type="secondary" size="compact">Click me</goa-button>
        </div>
      </goa-popover>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
      <GoAPopover target={
        <GoAButton type="secondary" size="compact">
          Click me
        </GoAButton>
      }
      maxWidth="500px"
      >
        <p>This is a popover</p>
        It can be used for a number of different contexts.
      </GoAPopover>
    `}
    />
  </Tab>
</Tabs>

#### No Padding

<GoACallout>
  For scenarios where popover content needs to be flush with the target, padded
  can be set to false
</GoACallout>

<Story name="No Padding">
  <GoAPopover
    target={
      <GoAButton type="secondary" size="compact">
        Click me
      </GoAButton>
    }
    padded={false}
  >
    <li>Item 1</li>
    <li>Item 2</li>
    <li>Item 3</li>
  </GoAPopover>
</Story>

<Tabs>
  <Tab label="Angular">
    <CodeSnippet
      lang="html"
      code={`
      <goa-popover padded="false">
        <li>Item 1</li>
        <li>Item 2</li>
        <li>Item 3</li>
        <div slot="target">
          <goa-button type="secondary" size="compact">Click me</goa-button>
        </div>
      </goa-popover>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
      <GoAPopover
        target={
          <GoAButton type="secondary" size="compact">
            Click me
          </GoAButton>
        }
        padded={false}
      >
        <li>Item 1</li>
        <li>Item 2</li>
        <li>Item 3</li>
      </GoAPopover>
    `}
    />
  </Tab>
</Tabs>

#### Position

<Story name="Position">
  <GoABlock gap="m">
    <GoAPopover
      position="above"
      target={
        <GoAButton type="secondary" size="compact">
          Above
        </GoAButton>
      }
    >
      This is the popover content
    </GoAPopover>
    <GoAPopover
      position="below"
      target={
        <GoAButton type="secondary" size="compact">
          Below
        </GoAButton>
      }
    >
      This is the popover content
    </GoAPopover>
    <GoAPopover
      position="auto"
      target={
        <GoAButton type="secondary" size="compact">
          Auto
        </GoAButton>
      }
    >
      This is the popover content
    </GoAPopover>
  </GoABlock>
</Story>

<Tabs>
  <Tab label="Angular">
    <CodeSnippet
      lang="html"
      code={`
      <goa-popover position="above">
        <div slot="target">
          <goa-button type="secondary" size="compact">Click me</goa-button>
        </div>
        This is the popover content
      </goa-popover>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
      <GoAPopover
        position="above"
        target={
          <GoAButton type="secondary" size="compact">
            Click me
          </GoAButton>
        }
      >
        This is the popover content
      </GoAPopover>
    `}
    />
  </Tab>
</Tabs>

---

<SupportInfo />
