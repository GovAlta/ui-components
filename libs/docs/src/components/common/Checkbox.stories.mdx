import {
  Meta,
  Canvas,
  Story,
} from '@storybook/addon-docs';

import { useArgs } from '@storybook/client-api';
import { action } from '@storybook/addon-actions';
import { Tabs, Tab, Note, CodeSnippet } from '@abgov/shared/storybook-common';
import { GoACheckbox } from '@abgov/react-components';

export const checkboxTemplate = (args) => {
  const [ _, updateArgs] = useArgs();
  return (
    <GoACheckbox
      name="desserts"
      text="Ice Cream"
      value="10"
      {...args}
      onChange={(name, value) => {
        updateArgs({checked: !args.checked});
        console.log(name, value);
      }}>
    </GoACheckbox>
  );
}

<Meta title="Components/Checkbox" component={GoACheckbox} />

### Component

# Checkbox

Checkboxes are contained in a fieldset for accessibility and categorization purposes.
The option group (checkbox and label) can be selected by the user with an input device.
The option is meant to be submitted as data and is part of a form.
The input data, while can be selected, will not be recorded until the user presses a submission button.

[Figma design component](https://www.figma.com/file/3pb2IK8s2QUqWieH79KdN7/Components---DIO-DS?node-id=458%3A16984)

<hr />

## Basic

export const onChangeCheckboxTemplate = checkboxTemplate.bind({});
onChangeCheckboxTemplate.args = {
  checked: false
};

<Story name="Basic">{ onChangeCheckboxTemplate }</Story>

<Tabs>
  <Tab label="Web Component">
    <CodeSnippet code={`<goa-checkbox name="desserts" text="Ice Cream" value="10"></goa-checkbox>`} lang="html" />
    <CodeSnippet
      lang="js"
      code={`
        var el = document.getElementById('id-desserts')
        el.addEventListener('_onChange', clickHandler);
        // to later remove the event listener
        el.removeEventListener('_onChange', clickHandler);
      `}
    />
  </Tab>
  <Tab label="Angular">
    <CodeSnippet code={`
        <goa-checkbox
          name="desserts"
          text="Ice Cream"
          value="10"
          (_click)="onChange()" >
        </goa-checkbox>
      `} lang="html" />
    <CodeSnippet lang="ts" code={`
      export class SomeComponent {
        onChange(e) {
          console.log(e.detail.name, e.detail.checked, e.detail.value);
        }
      }
    `}/>
  </Tab>
  <Tab label="React">
    <CodeSnippet lang="jsx" code={`
      const [desserts, setDesserts] = useState(false);
      return (
        <>
        <GoACheckbox
            name="desserts"
            text="Ice Cream"
            value="10"
            checked={desserts}
            onChange={(name, checked, value) => {
              setDesserts(checked);
              console.log(name, checked, value);
            }}
          />
        </>
      );
    `}/>
  </Tab>
</Tabs>


## States

Checkboxes can be checked or unchecked.
They have default, focus, hover, disabled and error states.

It’s that in-between state that we might consider a “Mix” between “Selected” and “Unselected” options.
Indeterminate state is not supported as of now.

### Checked

export const checkedCheckboxTemplate = checkboxTemplate.bind({});
checkedCheckboxTemplate.args = {
  checked: true
};

<Story name="Checked">{ checkedCheckboxTemplate }</Story>

<Tabs>
  <Tab label="Web Component">
    <CodeSnippet code={`<goa-checkbox name="desserts" text="Ice Cream" value="10" checked></goa-checkbox>`} lang="html" />
  </Tab>
  <Tab label="Angular">
    <CodeSnippet code={`<goa-checkbox name="desserts" text="Ice Cream" value="10" checked></goa-checkbox>`} lang="html" />
  </Tab>
  <Tab label="React">
    <CodeSnippet code={`<GoACheckbox name="desserts" text="Ice Cream" value="10" checked></GoACheckbox>`} lang="jsx" />
  </Tab>
</Tabs>


### Disabled

export const disabledCheckboxTemplate = () => <GoACheckbox name="desserts" text="Ice Cream" disabled></GoACheckbox>

<Story name="Disabled">{ disabledCheckboxTemplate.bind({}) }</Story>

<Tabs>
  <Tab label="Web Component">
    <CodeSnippet code={`<goa-checkbox name="desserts" text="Ice Cream" value="10" disabled></goa-checkbox>`} lang="html" />
  </Tab>
  <Tab label="Angular">
    <CodeSnippet code={`<goa-checkbox name="desserts" text="Ice Cream" value="10" disabled></goa-checkbox>`} lang="html" />
  </Tab>
  <Tab label="React">
    <CodeSnippet code={`<GoACheckbox name="desserts" text="Ice Cream" value="10" disabled></GoACheckbox>`} lang="jsx" />
  </Tab>
</Tabs>

## Usage

Use checkboxes when the user can select one or more options.

The fieldset width is responsive to 100% of the layout container while the arrangement is set vertically for ease of scanning and comparing.
The fieldset title should be clear, concise, and relevant to the group of options.

Add ‘Optional’ only to questions which can be left unanswered.
Start all checkboxes with a capital letter.
Don’t include punctuations after checkbox label.

<Note type="do">
  <p> Use checkboxes when the user is allowed to select more than one option. </p>
</Note>

<Note type="dont">
  <p> Require the user to make a selection. Checkboxes should be optional input. </p>
</Note>

<Note type="do">
  <p> List your options vertically </p>
  <img src=".images/2022-02-28-15-04-47.png" />
</Note>

<Note type="dont">
  <p> List your options horizontally </p>
  <img src=".images/2022-02-28-15-05-27.png" />
</Note>

<Note type="do">
  <p> Checkbox should always be left to the label </p>
  <img src=".images/2022-02-28-15-06-06.png" />
</Note>

<Note type="dont">
  <p> Move the checkbox to the right on the label </p>
  <img src=".images/2022-02-28-15-06-34.png" />
</Note>

---

## Support

<goa-callout type="information" title="Need help? Connect with us on Slack">
  <a href="https://goa-dio.slack.com/archives/C02PLLT9HQ9">#design-system-support</a> General information and discussion related to design system including questions, new component proposals, contribution, and other requests.
</goa-callout>

### Help improve this page

To help make sure that this page is useful, relevant, and up to date, you can:

[Create an issue for a proposed update or contribution](https://github.com/GovAlta/ui-components/issues/new/choose)
