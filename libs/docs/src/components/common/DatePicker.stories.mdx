import { Meta, Story } from "@storybook/addon-docs";
import {
  Props,
  Prop,
  Tabs,
  Tab,
  CodeSnippet,
  SupportInfo,
} from "@abgov/shared/storybook-common";
import { GoADatePicker } from "@abgov/react-components";

<Meta title="Components/DatePicker" />

# Date Picker

### The Date picker lets users select a date. This enables a date to be selected without the need to manually type it in a field, thereby reducing input errors and improving data accuracy.

[Figma design component](https://www.figma.com/file/dcR7GrX9kBvnLxA71m2ia8/Component---Date-picker?type=design&node-id=2295-53257&mode=design&t=mx1noZu1YH4gtdth-0)

---

#### Properties

<Props showTabs={true}>
  <Prop name="name" type="string" description="Name of the date field" />
  <Prop name="value" type="string" description="Value of the calendar date" />
  <Prop
    name="min"
    type="string"
    defaultValue="5 years previous"
    description="Minimum date value allowed"
  />
  <Prop
    name="max"
    type="string"
    defaultValue="5 years forward"
    description="Maximum date value allowed"
  />
  <Prop
    name="onChange"
    lang="react"
    type="(name: string, value: Date) => void"
    description="Callback function invoked when datepicker date is changed."
  />
</Props>

<details>
  <summary>Additional Properties</summary>
  <Props showTabs={true}>
    <Prop
      name="mt"
      type="none | 3xs | 2xs | xs | s | m | l | xl | 2xl | 3xl | 4xl"
      defaultValue="none"
      description="Top margin"
    />
    <Prop
      name="mr"
      type="none | 3xs | 2xs | xs | s | m | l | xl | 2xl | 3xl | 4xl"
      defaultValue="none"
      description="Right margin"
    />
    <Prop
      name="mb"
      type="none | 3xs | 2xs | xs | s | m | l | xl | 2xl | 3xl | 4xl"
      defaultValue="none"
      description="Bottom margin"
    />
    <Prop
      name="ml"
      type="none | 3xs | 2xs | xs | s | m | l | xl | 2xl | 3xl | 4xl"
      defaultValue="none"
      description="Left margin"
    />
  </Props>
</details>

#### Basic

<Story name="Basic">
  <GoADatePicker onChange={() => {}} />
</Story>

<Tabs>
  <Tab label="Angular">
    <CodeSnippet
      lang="ts"
      code={`
        import { FormControl } from "@angular/forms";
        export class SomeComponent {
          reactiveFormCtrl = new FormControl(new Date());
        }
      `}
    />
    <CodeSnippet
      lang="html"
      code={`
      <goa-date-picker goaValue [formControl]="reactiveFormCtrl"></goa-date-picker>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
	  <GoADatePicker onChange={(name: string, value: Date) => {}} />
    `}
    />
  </Tab>
</Tabs>

#### Date

<Story name="Date">
  <GoADatePicker value={new Date()} onChange={() => {}} />
</Story>

<Tabs>
  <Tab label="Angular">
    <CodeSnippet
      lang="ts"
      code={`
        import { FormControl } from "@angular/forms";
        export class SomeComponent {
          reactiveFormCtrl = new FormControl(new Date());
        }
      `}
    />
    <CodeSnippet
      lang="html"
      code={`
      <goa-date-picker goaValue [formControl]="reactiveFormCtrl" [value]="reactiveFormCtrl.value"></goa-date-picker>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
      <GoADatePicker onChange={(name: string, value: Date) => {}} value={new Date()} />
    `}
    />
  </Tab>
</Tabs>

#### Min/Max

<Story name="MinMax">
  <GoADatePicker
    onChange={() => {}}
    value={new Date(2023, 3, 1)}
    min={new Date(2023, 2, 1)}
    max={new Date(2023, 4, 1)}
    onChange={() => {}}
  />
</Story>

<Tabs>
  <Tab label="Angular">
    <CodeSnippet
      lang="ts"
      code={`
        import { FormControl } from "@angular/forms";
        export class SomeComponent {
          reactiveFormCtrl = new FormControl(new Date(2023, 3, 1));
          min = new Date(2023, 2, 1);
          max = new Date(2023, 4, 1);	    
        }
      `}
    />
    <CodeSnippet
      lang="html"
      code={`
      <goa-date-picker goaValue 
        [formControl]="reactiveFormCtrl" 
        [value]="reactiveFormCtrl.value"
        [min]="min"
        [max]="max"
      >
      </goa-date-picker>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
      <GoADatePicker 
        onChange={(name: string, value: Date) => {}} 
        value={new Date(2023, 3, 1)} 
        min={new Date(2023, 2, 1)} 
        max={new Date(2023, 4, 1)}
      />
    `}
    />
  </Tab>
</Tabs>

---

<SupportInfo />
