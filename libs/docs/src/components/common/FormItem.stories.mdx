import { Meta, Story } from '@storybook/addon-docs';
import {
  Tabs,
  Tab,
  CodeSnippet,
  SupportInfo,
  Props,
  Prop,
} from '@abgov/shared/storybook-common';
import {
  GoAFormItem,
  GoAInput,
  GoAFlexRow,
  GoADropdown,
  GoADropdownOption,
} from '@abgov/react-components';

<Meta title="Components/Form Item" />

# Form item

### A Form Item contains an input component paired with a label.

[Figma design component](https://www.figma.com/file/3pb2IK8s2QUqWieH79KdN7/%E2%9D%96-Components-%7C-DDI?node-id=7065%3A243092)

---

#### Properties

<Props>
  <Prop
    name="label"
    type="string"
    description="Text displayed describing form field"
  />
  <Prop
    name="helpText"
    type="string"
    description="Help text displayed under the form field to provide an additional explanation"
  />
  <Prop
    name="error"
    type="string"
    description="Error text displayed under the form field. Leave blank to indicate valid field."
  />
  <Prop
    name="optional"
    type="boolean"
    defaultValue="false"
    description="Show/hide an optional indicator next to the text label."
  />
</Props>

#### Basic

<Story name="Basic">
  <GoAFormItem label="First name">
    <GoAInput name="firstName" onChange={() => {}} />
  </GoAFormItem>
</Story>

<Tabs>
  <Tab label="Web Component" hidden={true}>
    <CodeSnippet
      lang="html"
      code={`
      <goa-form-item label="First name">
        <goa-input type="text" />
      </goa-form-item>
    `}
    />
  </Tab>
  <Tab label="Angular">
    <CodeSnippet
      lang="html"
      code={`
      <goa-form-item label="First name">
        <goa-input type="text"></goa-input>
      </goa-form-item>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
      <GoAFormItem label="First name">
        <GoAInput name="firstName" onChange={() => {}} />
      </GoAFormItem>
    `}
    />
  </Tab>
</Tabs>

#### Optional

<Story name="Optional">
  <GoAFormItem label="First name" optional>
    <GoAInput name="firstName" onChange={() => {}} />
  </GoAFormItem>
</Story>

<Tabs>
  <Tab label="Web Component" hidden={true}>
    <CodeSnippet
      lang="html"
      code={`
      <goa-form-item label="First name" optional>
        <goa-input type="text" />
      </goa-form-item>
    `}
    />
  </Tab>
  <Tab label="Angular">
    <CodeSnippet
      lang="html"
      code={`
      <goa-form-item label="First name" optional>
        <goa-input type="text"></goa-input>
      </goa-form-item>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
      <GoAFormItem label="First name" optional>
        <GoAInput name="firstName" onChange={() => {}} />
      </GoAFormItem>
    `}
    />
  </Tab>
</Tabs>

#### Help text

<Story name="Help text">
  <GoAFormItem label="First name" helpText="Help text">
    <GoAInput name="firstName" onChange={() => {}} />
  </GoAFormItem>
</Story>

<Tabs>
  <Tab label="Web Component" hidden={true}>
    <CodeSnippet
      lang="html"
      code={`
      <goa-form-item label="First name" helptext="Help text">
        <goa-input type="text" />
      </goa-form-item>
    `}
    />
  </Tab>
  <Tab label="Angular">
    <CodeSnippet
      lang="html"
      code={`
      <goa-form-item label="First name" helpText="Help text">
        <goa-input type="text"></goa-input>
      </goa-form-item>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
      <GoAFormItem label="First name" helpText="Help text">
        <GoAInput name="firstName" onChange={() => {}} />
      </GoAFormItem>
    `}
    />
  </Tab>
</Tabs>

#### Required

<Story name="Required">
  <GoAFormItem label="First name" error="First name is required">
    <GoAInput name="firstName" onChange={() => {}} error />
  </GoAFormItem>
  <GoAFormItem label="Favourite Colour" error="">
    <GoAInput name="favcolor" onChange={() => {}} />
  </GoAFormItem>
</Story>

<Tabs>
  <Tab label="Web Component" hidden={true}>
    <CodeSnippet
      lang="html"
      code={`
        <!-- Error message should be a dynamic value -->
        <goa-form-item label="First name" error="First name is required">
          <goa-input type="text" error />
        </goa-form-item>
        <!-- Blank error indicates a valid field -->
        <goa-form-item label="Favourite Colour" error="">
          <goa-input type="text" />
        </goa-form-item>
      `}
    />
  </Tab>
  <Tab label="Angular">
    <CodeSnippet
      lang="html"
      code={`
        <!-- Error message should be a dynamic value -->
        <goa-form-item label="First name" error="First name is required">
          <goa-input type="text" error></goa-input>
        </goa-form-item>
        <!-- Blank error indicates a valid field -->
        <goa-form-item label="Favourite Colour" error="">
          <goa-input type="text"></goa-input>
        </goa-form-item>
      `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
        <!-- Error message should be a dynamic value -->
        <GoAFormItem label="First name" error="First name is required" helpText="Help text">
          <GoAInput name="firstName" onChange={() => {}} error />
        </GoAFormItem>
        <!-- Blank error indicates a valid field -->
        <GoAFormItem label="Favourite Colour" error="">
          <GoAInput name="favcolor" onChange={() => {}} />
        </GoAFormItem>
      `}/>
  </Tab>
</Tabs>

#### Form row

<Story name="Form Row">
  <GoAFlexRow gap="small">
    <GoAFormItem label="First name">
      <GoAInput name="firstName" onChange={() => {}} width="100%" />
    </GoAFormItem>
    <GoAFormItem label="Last name">
      <GoAInput name="lastName" onChange={() => {}} width="100%" />
    </GoAFormItem>
  </GoAFlexRow>
</Story>

<Tabs>
  <Tab label="Web Component">
    <CodeSnippet
      lang="html"
      code={`
      <goa-flex-row gap="small">
        <goa-form-item label="First name">
          <goa-input type="text" width="100%" />
        </goa-form-item>
        <goa-form-item label="Last Name">
          <goa-input type="text" width="100%" />
        </goa-form-item>
      </goa-flex-row>
    `}
    />
  </Tab>
  <Tab label="Angular">
    <CodeSnippet
      lang="html"
      code={`
      <goa-flex-row gap="small">
        <goa-form-item label="First name">
          <goa-input type="text" width="100%"></goa-input>
        </goa-form-item>
        <goa-form-item label="Last Name">
          <goa-input type="text" width="100%"></goa-input>
        </goa-form-item>
      </goa-flex-row>
    `}
    />
  </Tab>
  <Tab label="React">
    <CodeSnippet
      lang="tsx"
      code={`
      <GoAFlexRow gap="small">
        <GoAFormItem label="First name">
          <GoAInput name="firstName" onChange={() => {}} width="100%" />
        </GoAFormItem>
        <GoAFormItem label="Last name">
          <GoAInput name="lastName" onChange={() => {}} width="100%" />
        </GoAFormItem>
      </GoAFlexRow>
    `}
    />
  </Tab>
</Tabs>

---

<SupportInfo />
