import { GoAPageLoadIndicatorComponent } from './page-load-indicator.component';
import { DoDont } from '@abgov/shared/storybook-common';

import {
  Meta,
  Canvas,
  Story,
  ArgsTable,
  Description,
} from '@storybook/addon-docs/blocks';
import { moduleMetadata } from '@storybook/angular';
import { action } from '@storybook/addon-actions';

<Meta
  title="Angular/Components/PageLoader"
  component={GoAPageLoadIndicatorComponent}
  argTypes={{
    visible: {
      control: 'boolean',
      table: {
        //tracked bug in storybook https://github.com/storybookjs/storybook/issues/11983, need table to override display
        defaultValue: { summary: false },
        type: { summary: 'boolean' },
      },
    },
    message: { control: 'text' },
    type: 'progress | infinite',
    value: 10,
    displayType: {
      control: {
        type: 'select',
        options: ['large', 'small'],
      },
    },
  }}
  decorators={[
    moduleMetadata({ declarations: [GoAPageLoadIndicatorComponent] }),
  ]}
/>

# Page Load Indicator

The Page Load Indicator component aims to implement the 'PageLoadIndicator' specifications on the Alberta Design System.
The Page Load Indicator was designed to show users that something is happening.

<Canvas>
  <Story
    name="Variants"
    height={300}
    args={{
      visible: true,
      message: 'Loading message...',
      type: 'infinite',
      displayType: 'large',
    }}
    parameters={{
      design: {},
    }}
  >
    {(args) => {
      return {
        template: `
        <goa-page-load-indicator [pagelock]="false" [visible]="visible" [type]="type" [message]="message" [displayType]="displayType">
                    </goa-page-load-indicator>`,
        props: args,
      };
    }}
  </Story>
</Canvas>

```html
<goa-page-load-indicator
  visible="true"
  type="'infinite' || 'progress'"
  displayType="'large' || 'small'"
>
  Loading...
</goa-page-load-indicator>
```

## Properties

<Description of={GoAPageLoadIndicatorComponent} />
<ArgsTable of={GoAPageLoadIndicatorComponent} />

## Usage guidelines

### PageLoader content

A page loader must contain a label

<DoDont
  dos={'Keep content short and concise'}
  donts={"Place a full sentence in the indicator's label"}
/>
