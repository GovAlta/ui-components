import { GoAElementLoadIndicatorComponent } from './element-load-indicator.component';
import { GoAButtonComponent } from '../../lib/button/button.component';
import { DoDont } from '@abgov/shared/storybook-common';
import {
  Meta,
  Canvas,
  Story,
  ArgsTable,
  Description,
} from '@storybook/addon-docs/blocks';
import { moduleMetadata } from '@storybook/angular';
import { action } from '@storybook/addon-actions';

<Meta
  title="Angular/Components/ElementLoader"
  component={GoAElementLoadIndicatorComponent}
  argTypes={{
    visible: {
      control: 'boolean',
      table: {
        //tracked bug in storybook https://github.com/storybookjs/storybook/issues/11983, need table to override display
        defaultValue: { summary: false },
        type: { summary: 'boolean' },
      },
    },
    size: { control: 'text' },
    baseColour: { control: 'color' },
    spinnerColour: { control: 'color' },
    radius: { table: { disable: true } },
    innerRadius: { table: { disable: true } },
    diameter: { table: { disable: true } },
    dashArray: { table: { disable: true } },
    dashOffset: { table: { disable: true } },
    viewBox: { table: { disable: true } },
    ngOnChanges: { table: { disable: true } },
  }}
  decorators={[
    moduleMetadata({
      declarations: [GoAElementLoadIndicatorComponent, GoAButtonComponent],
    }),
  ]}
/>

# Element Load Indicator

The Element Load Indicator component aims to implement the 'ElementLoadIndicator' specifications on the Alberta Design System.
The Element Load Indicator was designed to show users that something is happening on a specific element.

<Canvas>
  <Story
    name="Basic"
    height={300}
    args={{
      visible: true,
      size: 'default',
      baseColour: '#c8eef9',
      spinnerColour: '#0070c4',
    }}
    parameters={{
      design: {},
    }}
  >
    {(args) => {
      return {
        template: `
        <goa-element-load-indicator [visible]="visible" [size]="size" [baseColour]="baseColour" [spinnerColour]="spinnerColour">
                </goa-element-load-indicator>`,
        props: args,
      };
    }}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="ElementLoader"
    height={300}
    args={{
      visible: true,
      size: 'small',
      baseColour: '#0070c4',
      spinnerColour: '#c8eef9',
    }}
    parameters={{
      design: {},
    }}
  >
    {(args) => {
      return {
        template: `
        <button goa-button>
          <div style="float: left">Loading please wait...</div>
          <div style="float: left"><goa-element-load-indicator [visible]="visible" [size]="size" [baseColour]="baseColour" [spinnerColour]="spinnerColour">
          </goa-element-load-indicator></div>
        </button>`,
        props: args,
        moduleMetadata: {
          declarations: [GoAButtonComponent],
        },
      };
    }}
  </Story>
</Canvas>

```html
<goa-element-load-indicator visible="true">
  Loading...
</goa-element-load-indicator>
```

## Properties

<Description of={GoAElementLoadIndicatorComponent} />
<ArgsTable of={GoAElementLoadIndicatorComponent} />

## Usage guidelines

### PageLoader content

A page loader must contain a label

<DoDont
  dos={'Keep content short and concise'}
  donts={"Place a full sentence in the indicator's label"}
/>
