import { DoDont } from '@abgov/shared/storybook-common';
import { GoAButtonLinkComponent } from './button-link.component';

import {
  Meta,
  Canvas,
  Story,
  ArgsTable,
  Description,
} from '@storybook/addon-docs';
import { moduleMetadata } from '@storybook/angular';
import { action } from '@storybook/addon-actions';

<Meta
  title="Angular/Basic Elements/Button Link"
  component={GoAButtonLinkComponent}
  argTypes={{
    linkType: {
      control: 'select',
      options: ['right', 'up'],
      table: {
        //tracked bug in storybook https://github.com/storybookjs/storybook/issues/11983, need table to override display
        defaultValue: { summary: 'right' },
      },
    },
    buttonSize: {
      control: 'select',
      options: ['small', 'normal'],
      table: {
        //tracked bug in storybook https://github.com/storybookjs/storybook/issues/11983, need table to override display
        defaultValue: { summary: 'normal' },
      },
    },
    content: { control: 'text' },
    title: { control: 'text', defaultValue: 'Click Me' },
  }}
  decorators={[moduleMetadata({ declarations: [GoAButtonLinkComponent] })]}
/>

# Buttons

A hierarchy of actions provided by buttons.

<Canvas>
  <Story
    name="Link"
    height={100}
    args={{
      linkType: 'right',
      buttonSize: 'normal',
      content: 'Click Me!',
    }}
    parameters={{
      design: {
        specUrl:
          'https://xd.adobe.com/spec/75ca41d4-040c-4b1d-6ff9-0430b7119cf0-03fb/screen/ea24fb1f-4b15-495f-8fe6-603d1ac538a4/Buttons',
        reviewUrl:
          'https://xd.adobe.com/view/75ca41d4-040c-4b1d-6ff9-0430b7119cf0-03fb/',
      },
    }}
  >
    {(args) => {
      return {
        template: `<a goa-button href="http://alberta.ca" [buttonSize]='buttonSize' [linkType]='linkType' [title]='title' (click)="click($event)">{{content}}</a>`,
        props: args,
      };
    }}
  </Story>
</Canvas>

## Overview

Buttons submit data from a user input. Buttons are commonly found at the bottom of forms or simple
field box groups such as a search function. They may also be used as call to action or navigation
links.

## Examples

### Basic

```html
<a goa-button linkType="up">Next</a>
```

### Small

```html
<a goa-button buttonSize="small" linkType="up">Next</a>
```

## Properties

<Description of={GoAButtonLinkComponent} />
<ArgsTable of={GoAButtonLinkComponent} />

## Usage guidelines

### As a call to action

A button is a functional element that is designed to submit user data using the `<button>` markup. As a call to action `<a>` link, add a navigation arrow to distinguish it from a regular button. Navigation arrows are text-based, and is created with the html code &rarr; (right arrow) or &uarr; (up arrow). They are normally positioned to the right of the text label.

<DoDont
  dos={'Use buttons for form submissions and search queries.'}
  donts={'Use buttons as a link without a navigation arrow.'}
/>

### Text usage

All button text are in title case, and is ideally limited to one word. If one word does not adequately explain the function clearly, then limit the label to two brief words.

<DoDont
  dos={
    'Use one word to explain the function whenever possible, such as "Send," "Search," or "Reset."'
  }
  donts={'Use all uppercase or all lowercase to label buttons.'}
/>
